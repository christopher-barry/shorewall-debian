.\"     Title: shorewall6-interfaces
.\"    Author: 
.\" Generator: DocBook XSL Stylesheets v1.73.2 <http://docbook.sf.net/>
.\"      Date: 10/02/2009
.\"    Manual: 
.\"    Source: 
.\"
.TH "SHOREWALL6\-INTERFAC" "5" "10/02/2009" "" ""
.\" disable hyphenation
.nh
.\" disable justification (adjust text to left margin only)
.ad l
.SH "NAME"
interfaces \- shorewall6 interfaces file
.SH "SYNOPSIS"
.HP 27
\fB/etc/shorewall6/interfaces\fR
.SH "DESCRIPTION"
.PP
The interfaces file serves to define the firewall\'s network interfaces to shorewall6\&. The order of entries in this file is not significant in determining zone composition\&.
.PP
The columns in the file are as follows\&.
.PP
\fBZONE\fR \- \fIzone\-name\fR
.RS 4
Zone for this interface\&. Must match the name of a zone declared in /etc/shorewall6/zones\&. You may not list the firewall zone in this column\&.
.sp
If the interface serves multiple zones that will be defined in the
\fIshorewall6\-hosts\fR\&[1](5) file, you should place "\-" in this column\&.
.sp
If there are multiple interfaces to the same zone, you must list them in separate entries\&.
.sp
Example:
.sp
.RS 4
.nf
#ZONE   INTERFACE       BROADCAST
loc     eth1            \-
loc     eth2            \-
.fi
.RE
.RE
.PP
\fBINTERFACE\fR \- \fIinterface\fR\fB[:\fR\fIport\fR\fB]\fR
.RS 4
Name of interface\&. Each interface may be listed only once in this file\&. You may NOT specify the name of a "virtual" interface (e\&.g\&., eth0:0) here; see
\fIhttp://www\&.shorewall\&.net/FAQ\&.htm#faq18\fR
.sp
You may use wildcards here by specifying a prefix followed by the plus sign ("+")\&. For example, if you want to make an entry that applies to all PPP interfaces, use \'ppp+\'; that would match ppp0, ppp1, ppp2, \&...
.sp
Care must be exercised when using wildcards where there is another zone that uses a matching specific interface\&. See
\fIshorewall6\-nesting\fR\&[2](5) for a discussion of this problem\&.
.sp
Shorewall6 allows \'+\' as an interface name\&.
.sp
There is no need to define the loopback interface (lo) in this file\&.
.sp
If a
\fIport\fR
is given, then the
\fIinterface\fR
must have been defined previously with the
\fBbridge\fR
option\&. The OPTIONS column must be empty when a
\fIport\fR
is given\&.
.RE
.PP
\fBUNICAST\fR \- \fB\-\fR
.RS 4
Enter \'\fB\-\'\fR
in this column\&. It is here for compatibility between Shorewall6 and Shorewall\&.
.RE
.PP
\fBOPTIONS\fR (Optional) \- [\fIoption\fR[\fB,\fR\fIoption\fR]\&.\&.\&.]
.RS 4
A comma\-separated list of options from the following list\&. The order in which you list the options is not significant but the list should have no embedded white space\&.
.PP
\fBblacklist\fR
.RS 4
Check packets arriving on this interface against the
\fIshorewall6\-blacklist\fR\&[3](5) file\&.
.RE
.PP
\fBbridge\fR
.RS 4
Designates the interface as a bridge\&.
.RE
.PP
\fBmss\fR=\fInumber\fR
.RS 4
Causes forwarded TCP SYN packets entering or leaving on this interface to have their MSS field set to the specified
\fInumber\fR\&.
.RE
.PP
\fBnets=(\fR\fB\fInet\fR\fR\fB[,\&.\&.\&.])\fR
.RS 4
Limit the zone named in the ZONE column to only the listed networks\&. The parentheses may be omitted if only a single
\fInet\fR
is given\&.
.RE
.PP
\fBoptional\fR
.RS 4
When
\fBoptional\fR
is specified for an interface, shorewall6 will be silent when:
.sp
.RS 4
\h'-04'\(bu\h'+03'a
\fI/proc/sys/net/ipv6/conf/\fR
entry for the interface cannot be modified\&.
.RE
.sp
.RS 4
\h'-04'\(bu\h'+03'The first global IPv6 address of the interface cannot be obtained\&.
.RE
.IP "" 4
.RE
.PP
\fBrouteback\fR
.RS 4
If specified, indicates that shorewall6 should include rules that allow traffic arriving on this interface to be routed back out that same interface\&. This option is also required when you have used a wildcard in the INTERFACE column if you want to allow traffic between the interfaces that match the wildcard\&.
.RE
.PP
\fBsourceroute[={0|1}]\fR
.RS 4
If this option is not specified for an interface, then source\-routed packets will not be accepted from that interface (sets /proc/sys/net/ipv6/conf/\fIinterface\fR/accept_source_route to 1)\&. Only set this option if you know what you are doing\&. This might represent a security risk and is not usually needed\&.
.sp
Only those interfaces with the
\fBsourceroute\fR
option will have their setting changes; the value assigned to the setting will be the value specified (if any) or 1 if no value is given\&.
.sp
.it 1 an-trap
.nr an-no-space-flag 1
.nr an-break-flag 1
.br
Note
This option does not work with a wild\-card
\fIinterface\fR
name (e\&.g\&., eth0\&.+) in the INTERFACE column\&.
.RE
.PP
\fBtcpflags\fR
.RS 4
Packets arriving on this interface are checked for certain illegal combinations of TCP flags\&. Packets found to have such a combination of flags are handled according to the setting of TCP_FLAGS_DISPOSITION after having been logged according to the setting of TCP_FLAGS_LOG_LEVEL\&.
.RE
.PP
proxyndp[={0|1}]
.RS 4
Sets /proc/sys/net/ipv6/conf/\fIinterface\fR/proxy_ndp\&.
.sp
\fBNote\fR: This option does not work with a wild\-card
\fIinterface\fR
name (e\&.g\&., eth0\&.+) in the INTERFACE column\&.
.sp
Only those interfaces with the
\fBproxyndp\fR
option will have their setting changed; the value assigned to the setting will be the value specified (if any) or 1 if no value is given\&.
.RE
.RE
.SH "EXAMPLE"
.PP
Example 1:
.RS 4
Suppose you have eth0 connected to a DSL modem and eth1 connected to your local network You have a DMZ using eth2\&.
.sp
Your entries for this setup would look like:
.sp
.RS 4
.nf
#ZONE   INTERFACE UNICAST        OPTIONS
net     eth0      \-
loc     eth1      \-
dmz     eth2      \-
.fi
.RE
.RE
.SH "FILES"
.PP
/etc/shorewall6/interfaces
.SH "SEE ALSO"
.PP
shorewall6(8), shorewall6\-accounting(5), shorewall6\-actions(5), shorewall6\-blacklist(5), shorewall6\-hosts(5), shorewall6\-maclist(5), shorewall6\-params(5), shorewall6\-policy(5), shorewall6\-providers(5), shorewall6\-route_rules(5), shorewall6\-routestopped(5), shorewall6\-rules(5), shorewall6\&.conf(5), shorewall6\-tcclasses(5), shorewall6\-tcdevices(5), shorewall6\-tcrules(5), shorewall6\-tos(5), shorewall6\-tunnels(5), shorewall6\-zones(5)
.SH "NOTES"
.IP " 1." 4
shorewall6-hosts
.RS 4
\%shorewall6-hosts.html
.RE
.IP " 2." 4
shorewall6-nesting
.RS 4
\%shorewall6-nesting.html
.RE
.IP " 3." 4
shorewall6-blacklist
.RS 4
\%shorewall6-blacklist.html
.RE
