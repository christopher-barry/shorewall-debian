Author: Lorenzo Martignoni <martignlo@debian.org>
Description: Move lockfile to /var/lock/shorewall
--- shorewall.git.orig/lib.base
+++ shorewall.git/lib.base
@@ -102,7 +102,8 @@
     local try
     try=0
     local lockf
-    lockf=${LOCKFILE:=${VARDIR}/lock}
+    # lockf=${LOCKFILE:=${VARDIR}/lock}
+    local lockf=/var/lock/shorewall
     local lockpid
 
     MUTEX_TIMEOUT=${MUTEX_TIMEOUT:-60}
@@ -148,7 +149,8 @@
 #
 mutex_off()
 {
-    rm -f ${LOCKFILE:=${VARDIR}/lock}
+    # rm -f ${LOCKFILE:=${VARDIR}/lock}
+    rm -f /var/lock/shorewall
 }
 
 #
